@{
    Layout =null;
}

<!DOCTYPE html>

<html>
<head>
    <title></title>
     
    <link href="../../Content/Css/bootstrap.css" rel="stylesheet" type="text/css" />
   <link href="../../Content/Css/bootstrap-theme.css" rel="stylesheet" type="text/css" />
    @*<link href="../../Content/Css/public.css" rel="stylesheet" type="text/css" />*@

    <!--[if IE 7]>
     <link href="../../Content/Font-Awesome-3.2.1/css/font-awesome-ie7.min.css" rel="stylesheet"
        type="text/css" />
    <![endif]-->
    <script src="../../Scripts/jquery-1.8.3.min.js" type="text/javascript"></script>
    <script src="../../Scripts/json2.js" type="text/javascript"></script>
    <script language="javascript" type="text/javascript">
        $(document).ready(function () {
            var state = $("#stateType").val(); //0表示新增 1 表示修改 3表示删除
            SetDefault(state);
            $("#btn_save").bind("click", Save);
        });

        function Save() {
            var data = {};
            data["Name"] = $("#CompanyName").val();
            data["LoginKey"] = $("#ComPanyKey").val();
            data["Address"] = $("#Address").val();
            data["Phone"] = $("#TelePhone").val();
            data["Stoped"] = $("#selectIsStop").val() == "1" ? true : false;

            // data["CreateDate"] = $("#CreateDate").val();
            // data["ModifyDate"] = $("#ModifiedDate").val();
            data["Password"] = $("#Password").val();
            // data["OrderNumber"] = $("#OrderNumbet").val();
            //data["Creator"] = $("#CreateorId").val();
            data["Id"] = $("#GUID").val();
            var stateType = $("#stateType").val();

            var jsonData = JSON.stringify(data)
            $.ajax({
                url: "/Account/Save",
                data: { data: jsonData, state: stateType },
                dataType: "JSON",
                type: "POST",
                success: function (data) {
                    if (data != null) {
                        alert("保存成功！");
                    }
                    else {
                        alert("保存失败！");
                    }
                }

            });
        }
        function SetDefault(state) {
            switch (state) {
                case "0":

                    break;
                case "1":
                    $("#CompanyName").attr("disabled", "disabled");
                    $("#ComPanyKey").attr("disabled", "disabled");
                    break;


            }
        }
        function Close() {
            if (confirm('确定要关闭吗?')) {
                window.opener = null;
                window.open("", "_self");
                window.close();
            }
        }
    
    </script>
    <style type="text/css">
        table
        {
            width:80%;
            height:300px;
            text-align:center;
            
        }
        tr 
        {
             height:30px;    
        }
        .tdtitle
        {
            text-align:right; 
            width:100px;
               
        }
        .tdText
        {
             text-align:left;  
             width:150px; 
             
        }
        

    </style>
</head>
<body>
    <div style="text-align:center">
    <form class="form-horizontal">
    <fieldset style="text-align:center">
      <div id="legend" class="">
        <legend class="">@ViewData["title"]</legend>
      </div>
      <table>
        <tr>
            <td class="tdtitle"><label class="control-label" for="input01">公司名 &nbsp </label></td>
            <td class="tdText"> <input placeholder="请输入公司名称" id="CompanyName" name="CompanyName" value="@ViewData["CompanyName"]" class="input-xlarge" type="text" /></td>

             <td class="tdtitle" ><label class="control-label" for="input01">订单号  &nbsp </label></td>
            <td class="tdText" ><input disabled="disabled" id="OrderNumber" value="@ViewData["OrderNumber"]" name="ComPanyKey" class="input-xlarge" type="text" /></td>
        </tr>
         <tr>            
            <td class="tdtitle" ><label class="control-label" for="input01">账号  &nbsp </label></td>
            <td class="tdText" ><input placeholder="请输入用户名称" id="ComPanyKey" value="@ViewData["ComPanyKey"]" name="ComPanyKey" class="input-xlarge" type="text" /></td>
            <td class="tdtitle"><label class="control-label" for="input01">密码 &nbsp </label></td>
            <td class="tdText"> <input placeholder="请输入密码" id="Password" name="Password" value="@ViewData["Password"]" class="input-xlarge" type="text" /></td>

        </tr>
         <tr>
            <td class="tdtitle"><label class="control-label" for="input01">地址  &nbsp </label></td>
            <td class="tdText"> <input placeholder="请输入地址" class="input-xlarge" id="Address" name="Address" value="@ViewData["Address"]"  type="text" /></td>
            <td class="tdtitle"><label class="control-label" for="input01">电话  &nbsp </label></td>
            <td class="tdText" ><input placeholder="请输入电话" class="input-xlarge" id="TelePhone" name="TelePhone" value="@ViewData["TelePhone"]" type="text" /></td>
        </tr>
        
         <tr>
            <td class="tdtitle"><label class="control-label">是否可用  &nbsp </label></td>
            <td class="tdText">
              <input type="checkbox" id="selectIsStop" checked="@ViewData["IsStop"]" value="@ViewData["IsStop"]" />           
            
            </td>
            <td class="tdtitle">
                <label class="control-label" for="input01">创建人&nbsp </label>
            </td>
            <td class="tdText">          
               <input class="input-xlarge" disabled="disabled" id="CreateorId" name="CreateorId" value="@ViewData["CreateorName"]" type="text" />
            </td>
        </tr>
         <tr>
            <td class="tdtitle"><label class="control-label" for="input01">创建时间  &nbsp </label></td>
            <td class="tdText"> <input class="input-xlarge" id="CreateDate" disabled="disabled" name="CreateDate" value="@ViewData["CreateDate"]"  type="text" /></td>
            <td class="tdtitle"><label class="control-label" for="input01">修改时间  &nbsp </label></td>
            <td class="tdText" ><input  class="input-xlarge" disabled="disabled" id="ModifiedDate" name="ModifiedDate" value="@ViewData["ModifiedDate"]" type="text" /></td>
        </tr>
        <tr>
            <td colspan="4" style="text-align:center"> 
                          
                <a class="btn" id="btn_save" href="#"><i class="icon-save"></i>保存</a>  &nbsp &nbsp&nbsp&nbsp&nbsp
                <a class="btn" id="btn_close" onclick="Close()" href="#"><i class="con-off"></i>关闭</a>

            </td>
        </tr>

      </table>
      <div>
       <input id="stateType"  type="hidden" value="@ViewData["stateType"]" />
       <input id="createorID"  type="hidden" value="@ViewData["createorID"]" />
        <input id="GUID" name="Id" type="hidden" value="@ViewData["Id"]" />
      </div>

      
    </fieldset>

   

  </form>
    </div>
</body>
</html>
